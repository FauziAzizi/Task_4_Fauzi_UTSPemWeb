<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Daftar Anime Populer</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <h1>Daftar Anime Populer</h1>
    </header>
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>No</th>
            <th>Nama Anime</th>
            <th>Genre</th>
            <th>Tahun</th>
            <th>Peringkat</th>
          </tr>
        </thead>
        <tbody>
          <!-- Data dummy -->
          <tr>
            <td>1</td>
            <td>Attack on Titan</td>
            <td>Action, Drama</td>
            <td>2013</td>
            <td>5</td>
          </tr>
          <tr>
            <td>2</td>
            <td>My Hero Academia</td>
            <td>Action, Shounen</td>
            <td>2016</td>
            <td>4</td>
          </tr>
          <tr>
            <td>3</td>
            <td>One Piece</td>
            <td>Adventure, Action</td>
            <td>1999</td>
            <td>5</td>
          </tr>
          <tr>
            <td>4</td>
            <td>Death Note</td>
            <td>Thriller, Mystery</td>
            <td>2006</td>
            <td>5</td>
          </tr>
          <tr>
            <td>5</td>
            <td>Fullmetal Alchemist: Brotherhood</td>
            <td>Action, Adventure</td>
            <td>2009</td>
            <td>5</td>
          </tr>
          <tr>
            <td>6</td>
            <td>Naruto</td>
            <td>Action, Adventure</td>
            <td>2002</td>
            <td>4</td>
          </tr>
          <tr>
            <td>7</td>
            <td>Tokyo Ghoul</td>
            <td>Horror, Action</td>
            <td>2014</td>
            <td>4</td>
          </tr>
          <tr>
            <td>8</td>
            <td>Hunter x Hunter</td>
            <td>Adventure, Action</td>
            <td>2011</td>
            <td>5</td>
          </tr>
          <tr>
            <td>9</td>
            <td>Sword Art Online</td>
            <td>Action, Adventure</td>
            <td>2012</td>
            <td>4</td>
          </tr>
          <tr>
            <td>10</td>
            <td>Demon Slayer</td>
            <td>Action, Supernatural</td>
            <td>2019</td>
            <td>5</td>
          </tr>
          <tr>
            <td>11</td>
            <td>One Punch Man</td>
            <td>Action, Comedy</td>
            <td>2015</td>
            <td>4</td>
          </tr>
          <tr>
            <td>12</td>
            <td>Neon Genesis Evangelion</td>
            <td>Mecha, Psychological</td>
            <td>1995</td>
            <td>5</td>
          </tr>
          <tr>
            <td>13</td>
            <td>Code Geass</td>
            <td>Mecha, Action</td>
            <td>2006</td>
            <td>5</td>
          </tr>
          <tr>
            <td>14</td>
            <td>Fairy Tail</td>
            <td>Action, Adventure</td>
            <td>2009</td>
            <td>4</td>
          </tr>
          <tr>
            <td>15</td>
            <td>Fate/Zero</td>
            <td>Action, Fantasy</td>
            <td>2011</td>
            <td>5</td>
          </tr>
          <tr>
            <td>16</td>
            <td>Your Lie in April</td>
            <td>Drama, Romance</td>
            <td>2014</td>
            <td>5</td>
          </tr>
          <tr>
            <td>17</td>
            <td>Mob Psycho 100</td>
            <td>Action, Comedy</td>
            <td>2016</td>
            <td>4</td>
          </tr>
          <tr>
            <td>18</td>
            <td>Steins;Gate</td>
            <td>Sci-Fi, Thriller</td>
            <td>2011</td>
            <td>5</td>
          </tr>
          <tr>
            <td>19</td>
            <td>Spirited Away</td>
            <td>Fantasy, Adventure</td>
            <td>2001</td>
            <td>5</td>
          </tr>
          <tr>
            <td>20</td>
            <td>Dragon Ball Z</td>
            <td>Action, Adventure</td>
            <td>1989</td>
            <td>4</td>
          </tr>
          <tr>
            <td>21</td>
            <td>Re:Zero</td>
            <td>Fantasy, Isekai</td>
            <td>2016</td>
            <td>5</td>
          </tr>
          <tr>
            <td>22</td>
            <td>Gintama</td>
            <td>Action, Comedy</td>
            <td>2006</td>
            <td>4</td>
          </tr>
          <tr>
            <td>23</td>
            <td>Clannad</td>
            <td>Drama, Romance</td>
            <td>2007</td>
            <td>5</td>
          </tr>
          <tr>
            <td>24</td>
            <td>Noragami</td>
            <td>Action, Supernatural</td>
            <td>2014</td>
            <td>4</td>
          </tr>
          <tr>
            <td>25</td>
            <td>Black Clover</td>
            <td>Action, Fantasy</td>
            <td>2017</td>
            <td>4</td>
          </tr>
          <tr>
            <td>26</td>
            <td>Vinland Saga</td>
            <td>Action, Adventure</td>
            <td>2019</td>
            <td>5</td>
          </tr>
          <tr>
            <td>27</td>
            <td>Fruits Basket</td>
            <td>Romance, Slice of Life</td>
            <td>2001</td>
            <td>5</td>
          </tr>
          <tr>
            <td>28</td>
            <td>Haikyuu!!</td>
            <td>Sports, Comedy</td>
            <td>2014</td>
            <td>4</td>
          </tr>
          <tr>
            <td>29</td>
            <td>Made in Abyss</td>
            <td>Adventure, Fantasy</td>
            <td>2017</td>
            <td>5</td>
          </tr>
          <tr>
            <td>30</td>
            <td>The Promised Neverland</td>
            <td>Thriller, Horror</td>
            <td>2019</td>
            <td>5</td>
          </tr>
          <tr>
            <td>31</td>
            <td>Mob Psycho 100 II</td>
            <td>Action, Comedy</td>
            <td>2019</td>
            <td>5</td>
          </tr>
          <tr>
            <td>32</td>
            <td>Golden Kamuy</td>
            <td>Adventure, Historical</td>
            <td>2018</td>
            <td>4</td>
          </tr>
          <tr>
            <td>33</td>
            <td>Attack on Titan: The Final Season</td>
            <td>Action, Drama</td>
            <td>2020</td>
            <td>5</td>
          </tr>
          <tr>
            <td>34</td>
            <td>Bleach</td>
            <td>Action, Supernatural</td>
            <td>2004</td>
            <td>4</td>
          </tr>
          <tr>
            <td>35</td>
            <td>Tokyo Revengers</td>
            <td>Action, Drama</td>
            <td>2021</td>
            <td>5</td>
          </tr>
          <tr>
            <td>36</td>
            <td>Ouran High School Host Club</td>
            <td>Romance, Comedy</td>
            <td>2006</td>
            <td>4</td>
          </tr>
          <tr>
            <td>37</td>
            <td>Inuyasha</td>
            <td>Adventure, Fantasy</td>
            <td>2000</td>
            <td>4</td>
          </tr>
          <tr>
            <td>38</td>
            <td>Bakemonogatari</td>
            <td>Supernatural, Romance</td>
            <td>2009</td>
            <td>5</td>
          </tr>
          <tr>
            <td>39</td>
            <td>Shingeki no Kyojin: The Final Season Part 2</td>
            <td>Action, Drama</td>
            <td>2022</td>
            <td>5</td>
          </tr>
          <tr>
            <td>40</td>
            <td>Toradora!</td>
            <td>Romance, Slice of Life</td>
            <td>2008</td>
            <td>5</td>
          </tr>
          <tr>
            <td>41</td>
            <td>Death Parade</td>
            <td>Drama, Psychological</td>
            <td>2015</td>
            <td>5</td>
          </tr>
          <tr>
            <td>42</td>
            <td>Black Lagoon</td>
            <td>Action, Thriller</td>
            <td>2006</td>
            <td>4</td>
          </tr>
          <tr>
            <td>43</td>
            <td>Paranoia Agent</td>
            <td>Psychological, Thriller</td>
            <td>2004</td>
            <td>5</td>
          </tr>
          <tr>
            <td>44</td>
            <td>Beastars</td>
            <td>Drama, Mystery</td>
            <td>2019</td>
            <td>4</td>
          </tr>
          <tr>
            <td>45</td>
            <td>Kaguya-sama: Love Is War</td>
            <td>Romance, Comedy</td>
            <td>2019</td>
            <td>5</td>
          </tr>
          <tr>
            <td>46</td>
            <td>Yuri!!! on ICE</td>
            <td>Sports, Drama</td>
            <td>2016</td>
            <td>5</td>
          </tr>
          <tr>
            <td>47</td>
            <td>Made in Abyss: Dawn of the Deep Soul</td>
            <td>Adventure, Fantasy</td>
            <td>2020</td>
            <td>5</td>
          </tr>
          <tr>
            <td>48</td>
            <td>Black Clover: Jump Festa Special</td>
            <td>Action, Fantasy</td>
            <td>2020</td>
            <td>4</td>
          </tr>
          <tr>
            <td>49</td>
            <td>Owari no Seraph</td>
            <td>Action, Supernatural</td>
            <td>2015</td>
            <td>4</td>
          </tr>
          <tr>
            <td>50</td>
            <td>March Comes in Like a Lion</td>
            <td>Drama, Slice of Life</td>
            <td>2016</td>
            <td>5</td>
          </tr>
        </thead>
        <tbody id="animeTable">
          
          <!-- Data dummy -->
        </tbody>
      </table>
    </div>
    <p id="statusMessage"></p>
    <script>
      // Fungsi untuk mendapatkan query string dari URL
      function getQueryParams() {
        const params = new URLSearchParams(window.location.search);
        return { 
          id: params.get('id'),
          nama: params.get('nama'),
          genre: params.get('genre'),
          tahun: params.get('tahun'),
          peringkat: params.get('peringkat')
        };
      }

      // Fungsi untuk memeriksa apakah anime sudah ada
      function animeExists(nama) {
        const rows = document.querySelectorAll("#animeTable tr");
        for (let row of rows) {
          const namaCell = row.querySelector("td:first-child").textContent;
          if (namaCell.toLowerCase() === nama.toLowerCase()) {
            return true;
          }
        }
        return false;
      }

      // Menambahkan data anime ke tabel
      function addAnimeToTable(data) {
        const tableBody = document.getElementById("animeTable");

        // Cek apakah data sudah ada
        if (animeExists(data.nama)) {
          document.getElementById("statusMessage").textContent =
            "Anime sudah ada!";
          return;
        }

        const newRow = document.createElement("tr");

        newRow.innerHTML = `
          <td>${data.id}</td>
          <td>${data.nama}</td>
          <td>${data.genre}</td>
          <td>${data.tahun}</td>
          <td>${data.peringkat}</td>
        `;

        tableBody.appendChild(newRow);
        document.getElementById("statusMessage").textContent =
          "Anime berhasil ditambahkan!";
      }

      // Mendapatkan query string dan menambahkannya ke tabel
      const animeData = getQueryParams();
      if (animeData.nama) {
        addAnimeToTable(animeData);
      }
    </script>
  </body>
</html>
